
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Document and share your NEMO ocean model simulation">
      
      
        <link rel="canonical" href="https://immerse-project.github.io/nemo-simsar/orca2_ice_log.html">
      
      
        <meta name="author" content="Markus Scheinert and Lucienne Micallef">
      
      <link rel="shortcut icon" href="docs/img/simsar_logo.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.0.2">
    
    
      
        <title>Example Nemo session - nemo-simsar</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.38780c08.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.3f72e892.min.css">
        
          
          
          <meta name="theme-color" content="#8bc34b">
        
      
    
    
    
      
    
    
    
      <link rel="stylesheet" href="extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-green" data-md-color-accent="deep-orange">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#example-nemo-session" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://immerse-project.github.io/nemo-simsar" title="nemo-simsar" class="md-header-nav__button md-logo" aria-label="nemo-simsar">
      
  <img src="docs/img/simsar_logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            nemo-simsar
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Example Nemo session
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/immerse-project/nemo-simsar" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    nemo-simsar on GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          

<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="index.html" class="md-tabs__link md-tabs__link--active">
        HOME
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="introduction.html" class="md-tabs__link">
          User Guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="https://immerse-ocean.eu" class="md-tabs__link">
          ðŸ¡½ IMMERSE Project
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="https://www.nemo-ocean.eu" class="md-tabs__link">
          ðŸ¡½ NEMO-OCEAN
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://immerse-project.github.io/nemo-simsar" title="nemo-simsar" class="md-nav__button md-logo" aria-label="nemo-simsar">
      
  <img src="docs/img/simsar_logo.png" alt="logo">

    </a>
    nemo-simsar
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/immerse-project/nemo-simsar" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    nemo-simsar on GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="index.html" class="md-nav__link">
      HOME
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      User Guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="User Guide" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        User Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="introduction.html" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="gettingstarted.html" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3">
    
    <label class="md-nav__link" for="nav-2-3">
      Citable Input Data
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Citable Input Data" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        <span class="md-nav__icon md-icon"></span>
        Citable Input Data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="inputdata.html" class="md-nav__link">
      How to refer to Input Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="input_ini.html" class="md-nav__link">
      The `input.ini` File
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      The Simulation Package
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="The Simulation Package" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        <span class="md-nav__icon md-icon"></span>
        The Simulation Package
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="simulation-meta.html" class="md-nav__link">
      Simulation Meta Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="mkReadme.html" class="md-nav__link">
      Create the README file with **mkReadme**
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="bundleup.html" class="md-nav__link">
      Bundle up
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-5" type="checkbox" id="nav-2-5">
    
    <label class="md-nav__link" for="nav-2-5">
      Publish
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Publish" data-md-level="2">
      <label class="md-nav__title" for="nav-2-5">
        <span class="md-nav__icon md-icon"></span>
        Publish
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="publish_general.html" class="md-nav__link">
      General Remarks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="publish_pid.html" class="md-nav__link">
      Persistent Handlers/Object Identifiers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="publish_git.html" class="md-nav__link">
      publish via git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="publish_gitpages.html" class="md-nav__link">
      Create Static Webpage (git pages)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-6" type="checkbox" id="nav-2-6">
    
    <label class="md-nav__link" for="nav-2-6">
      Obtain a Simulation Package
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Obtain a Simulation Package" data-md-level="2">
      <label class="md-nav__title" for="nav-2-6">
        <span class="md-nav__icon md-icon"></span>
        Obtain a Simulation Package
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="getviagit.html" class="md-nav__link">
      git
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      ðŸ¡½ IMMERSE Project
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="ðŸ¡½ IMMERSE Project" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        ðŸ¡½ IMMERSE Project
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="https://immerse-ocean.eu" class="md-nav__link">
      None
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      ðŸ¡½ NEMO-OCEAN
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="ðŸ¡½ NEMO-OCEAN" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        ðŸ¡½ NEMO-OCEAN
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="https://www.nemo-ocean.eu" class="md-nav__link">
      None
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-install-nemo" class="md-nav__link">
    (1) Install NEMO
  </a>
  
    <nav class="md-nav" aria-label="(1) Install NEMO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clone-checkout-nemo-repo" class="md-nav__link">
    + Clone / Checkout NEMO repo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-arch" class="md-nav__link">
    + New ARCH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-new-orca2_ice-configuration" class="md-nav__link">
    + Create new ORCA2_ICE configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#my_src" class="md-nav__link">
    + MY_SRC
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compilation" class="md-nav__link">
    + COMPILATION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-ref" class="md-nav__link">
    + Experiment REF
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-install-nemo-simsar" class="md-nav__link">
    (2) Install nemo-simsar
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-prepare-software-package" class="md-nav__link">
    (3) Prepare Software Package
  </a>
  
    <nav class="md-nav" aria-label="(3) Prepare Software Package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list-input-files-in-inputdef" class="md-nav__link">
    + List input files in input.def
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="example-nemo-session">Example Nemo session<a class="headerlink" href="#example-nemo-session" title="Permanent link">ðŸ”—</a></h1>
<p>During this session we will create a new configuration <strong>ORCA2-ICE</strong> which will be then published/shared in a (private) git repository with nemo-simsar.</p>
<h2 id="1-install-nemo">(1) Install NEMO<a class="headerlink" href="#1-install-nemo" title="Permanent link">ðŸ”—</a></h2>
<p>This step installs NEMO from scratch and creates the new configuration if both do not exist yet.</p>
<h3 id="clone-checkout-nemo-repo">+ Clone / Checkout NEMO repo<a class="headerlink" href="#clone-checkout-nemo-repo" title="Permanent link">ðŸ”—</a></h3>
<p>If you're going to run your experiments within the NEMO repository tree, make sure, you're not working within your <code>$HOME</code> directory. You may want to use a 'scratch disk' instead (e.g. <code>$WORK</code>) which can also store large input and output files.</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> <span class="nv">$WORK</span>
svn co https://forge.ipsl.jussieu.fr/nemo/svn/NEMO/releases/release-4.0 NEMO-release-4.0
</code></pre></div>
<h3 id="new-arch">+ New ARCH<a class="headerlink" href="#new-arch" title="Permanent link">ðŸ”—</a></h3>
<p>For simplicity we us a new ARCH file which would run the model in a serial mode (instead of a parallel mode):</p>
<p><strong><code>arch-linux_gfortran_serial.fcm</code>:</strong></p>
<div class="highlight"><pre><span></span><code>%NCDF_HOME           /usr
%HDF5_HOME           /usr
%XIOS_HOME           
%OASIS_HOME          

%NCDF_INC            -I%NCDF_HOME/include -I%HDF5_HOME/include/hdf5/serial
%NCDF_LIB            -L%NCDF_HOME/lib/x86_64-linux-gnu -lnetcdff -lnetcdf
%XIOS_INC            
%XIOS_LIB            

%OASIS_INC           
%OASIS_LIB           

%CPP                 cpp -Dkey_nosignedzero 
%FC                  /usr/bin/gfortran -c -cpp 
%FCFLAGS             -fdefault-real-8 -O3 -funroll-all-loops -fcray-pointer -ffree-line-length-none
%FFLAGS              %FCFLAGS
#%LD                  /usr/bin/gfortran -Wl,-rpath=$HOME/INSTALL/lib:/usr/lib
%LD                  /usr/bin/gfortran
%LDFLAGS             
%FPPFLAGS            -P -C -traditional
%AR                  ar
%ARFLAGS             rs
%MK                  make
%USER_INC            %XIOS_INC %OASIS_INC %NCDF_INC
%USER_LIB            %XIOS_LIB %OASIS_LIB %NCDF_LIB

%CC                  cc
%CFLAGS              -O0
</code></pre></div>
<h3 id="create-new-orca2_ice-configuration">+ Create new ORCA2_ICE configuration<a class="headerlink" href="#create-new-orca2_ice-configuration" title="Permanent link">ðŸ”—</a></h3>
<p>The next commands will create the new configuration "ORCA2_ICE" based on the existing reference configuration ORCA2_ICE_PISCES" (which originally also uses the NST component). The model components are reduced to OCE and ICE and all CPP keys that'd require MPI (parallel computing) are removed, too.</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> NEMO-release-4.0
./makenemo -m linux_gfortran_serial -r ORCA2_ICE_PISCES -n ORCA2_ICE -j <span class="m">0</span>
./makenemo -m linux_gfortran_serial -r ORCA2_ICE -j <span class="m">0</span> -d OCE,ICE
./makenemo -m linux_gfortran_serial -r ORCA2_ICE -j <span class="m">0</span> del_key <span class="s1">&#39;key_top key_iomput key_mpp_mpi&#39;</span>
</code></pre></div>
<p>Now, there is also a new file <code>cfgs/work_cfgs.txt</code> listing the user configurations and their model components:</p>
<div class="highlight"><pre><span></span><code>ORCA2_ICE  OCE TOP ICE NST
</code></pre></div>
<p>and the cpp file <code>cpp_ORCA2_ICE.fcm</code> only contains now the macro key for the sea ice model:</p>
<div class="highlight"><pre><span></span><code>bld::tool::fppkeys   key_si3
</code></pre></div>
<h3 id="my_src">+ MY_SRC<a class="headerlink" href="#my_src" title="Permanent link">ðŸ”—</a></h3>
<p>We will just copy a file from the original source tree in order to simulate the existence of a user-modified file in <code>MY_SRC/</code>:</p>
<div class="highlight"><pre><span></span><code>cd cfgs/ORCA2_ICE/MY_SRC
cp src/OCE/SBC/sbcblk.F90 cfgs/ORCA2_ICE/MY_SRC/.
</code></pre></div>
<h3 id="compilation">+ COMPILATION<a class="headerlink" href="#compilation" title="Permanent link">ðŸ”—</a></h3>
<p>Still in <code>NEMO-release-4.0/</code> folder:</p>
<div class="highlight"><pre><span></span><code>./makenemo -m linux_gfortran_serial -r ORCA2_ICE
</code></pre></div>
<h3 id="experiment-ref">+ Experiment REF<a class="headerlink" href="#experiment-ref" title="Permanent link">ðŸ”—</a></h3>
<div class="highlight"><pre><span></span><code>cp -R EXP00 REF
</code></pre></div>
<h2 id="2-install-nemo-simsar">(2) Install nemo-simsar<a class="headerlink" href="#2-install-nemo-simsar" title="Permanent link">ðŸ”—</a></h2>
<div class="highlight"><pre><span></span><code>cd $HOME
git clone https://
export PATH=$HOME/nemo-simsar/bin:$PATH
</code></pre></div>
<h2 id="3-prepare-software-package">(3) Prepare Software Package<a class="headerlink" href="#3-prepare-software-package" title="Permanent link">ðŸ”—</a></h2>
<h3 id="list-input-files-in-inputdef">+ List input files in <code>input.def</code><a class="headerlink" href="#list-input-files-in-inputdef" title="Permanent link">ðŸ”—</a></h3>
<div class="highlight"><pre><span></span><code>cd $WORK/NEMO-release-4.0/cfgs/ORCA2_ICE/RE
vi input.def
</code></pre></div>
<p><strong><code>REF/input.def</code>:</strong></p>
<div class="highlight"><pre><span></span><code>#--------------------------------------------------------------------------------------
# NEMO Input File Definition
#
# &lt;NEMO-FileName&gt;, &lt;&#39;DOI|Reference SHA256=xxxx...&#39;&gt;, &lt;URI&gt;[,&lt;URI&gt;[,...]]
#
#    Each &#39;Reference&#39; can also contain a SHA256-hash for verifying the file. This entry
#    is separated with spaces and has the preceding key-word SHA256= without any blanks
#
#    You can use hash character (#) to comment the rest of the line out
#    Long lines can be split by backslashes (\); trailing comments (#) are allowed.
#
#--------------------------------------------------------------------------------------
# &lt;NEMO-FileName&gt;,  &lt;&#39;DOI|Reference SHA256=xxxx...&#39;&gt;,  &lt;URI&gt;[,&lt;URI&gt;[,...]]

ORCA_R2_zps_domcfg.nc, \
                       SHA256=736500c34b2f5959070d961ca64a0649895cfa27101368eff90edb7f90c5097f\
                       DOI=10.5281/zenodo.3767939 \
                       https://doi.org/10.5281/zenodo.3767939, \
                       https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
data_1m_salinity_nomask.nc, \
                       SHA256=b3f60e3507bbea3466834a363f366b45ef8aec19495ae0975ea3dcbbbfc70aa2\
                       DOI=10.5281/zenodo.3767939 \
                       https://doi.org/10.5281/zenodo.3767939, \
                       https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
geothermal_heating.nc, \
                       SHA256=a72baf9af15e53bce87a53148ed8fddf8d9948449f5c04da5d84526edf39ccc3\
                       DOI=10.5281/zenodo.3767939 \
                       https://doi.org/10.5281/zenodo.3767939, \
                       https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
eddy_viscosity_3D.nc, \
                       SHA256=a3083b470710a32bb83678632904f3b3d09f96d47110440dfac7d6ddc978c269\
                       DOI=10.5281/zenodo.3767939 \
                       https://doi.org/10.5281/zenodo.3767939, \
                       https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
mixing_power_pyc.nc, \
                       SHA256=4c1d530408921c6418e91a0c4f2451420407e0a3ac9176d7cf2125b417f1233f\
                       DOI=10.5281/zenodo.3767939 \
                       https://doi.org/10.5281/zenodo.3767939, \
                       https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
mixing_power_cri.nc, \
                       SHA256=13d3c239277f39a7bf2f082deb4b5507b467c03120ceed15e6e79fc2e2c2d84b\
                       DOI=10.5281/zenodo.3767939 \
                       https://doi.org/10.5281/zenodo.3767939, \
                       https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
mixing_power_bot.nc, \
                       SHA256=c2485f028fe8d7978d924737d2c2eb2f61cb780ab906ac8ceecd18e8b6e9b343\
                       DOI=10.5281/zenodo.3767939 \
                       https://doi.org/10.5281/zenodo.3767939, \
                       https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
runoff_core_monthly.nc, \
                       SHA256=e5f3b92205561d78731b9253caf302ddf82d98cd3eabe46ab0cf152be6d74ffb\
                       DOI=10.5281/zenodo.3767939 \
                       https://doi.org/10.5281/zenodo.3767939, \
                       https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
resto.nc, \
                       SHA256=b3ac69284d46276497928a55a69c167cdb579443f85383186c442c4e235ee032\
                       DOI=10.5281/zenodo.3767939 \
                       https://doi.org/10.5281/zenodo.3767939, \
                       https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
data_1m_potential_temperature_nomask.nc, \
                       SHA256=302179020c3c8c1ca02d8f749206f13eca522a9de8704a1a148f5e1eddcc70b8\
                       DOI=10.5281/zenodo.3767939 \
                       https://doi.org/10.5281/zenodo.3767939, \
                       https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
u_10.15JUNE2009_fill.nc, \
                       SHA256=a226c422488b78fdcccb31c64219787510cb383dc9bd9f27a3fef3cc2052a171\
                       DOI=10.5281/zenodo.3767939 \
                       https://doi.org/10.5281/zenodo.3767939, \
                       https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
weights_core_orca2_bicubic_noc.nc, \
                       SHA256=9bbdbbdf773307e08b7372712123a2cefdd9f2ea1928d61aae3f27a10cb065b2\
                       DOI=10.5281/zenodo.3767939 \
                       https://doi.org/10.5281/zenodo.3767939, \
                       https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
weights_core_orca2_bilinear_noc.nc, \
                       SHA256=20c7e0af58792b9401b9a47dc5f3c9a5726f44d0454f2d6fe01ccaa5e3af725e\
                       DOI=10.5281/zenodo.3767939 \
                       https://doi.org/10.5281/zenodo.3767939, \
                       https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
v_10.15JUNE2009_fill.nc, , https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
t_10.15JUNE2009_fill.nc, , https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
q_10.15JUNE2009_fill.nc, , https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
ncar_rad.15JUNE2009_fill.nc, , https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
ncar_precip.15JUNE2009_fill.nc, , https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
slp.15JUNE2009_fill.nc, , https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
sss_data.nc, , https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
chlorophyll.nc, , https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
decay_scale_cri.nc, , https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
decay_scale_bot.nc, , https://zenodo.org/record/3767939/files/ORCA2_ICE_v4.2.tar?download=1
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 Markus Scheinert
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      <div class="md-footer-disclaimer">
      <a href="disclaimer.html">Disclaimer</a><br>
      <a href="privacy.html">Privacy</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/vendor.77e55a48.min.js"></script>
      <script src="assets/javascripts/bundle.9554a270.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: ".",
          features: ['navigation.tabs', 'search.highlight'],
          search: Object.assign({
            worker: "assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>